<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–®è©ç¿»ç‰Œé…å°éŠæˆ² - YLE Starters å®Œæ•´ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'PingFang TC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
            font-size: 1.8em;
        }

        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: white;
            padding: 8px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-size: 0.95em;
        }

        .stat-box span {
            color: #667eea;
            font-weight: bold;
        }

        /* åˆ†ç±»é€‰æ‹© */
        .category-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .category-section h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .category-btn {
            background: #f1f3f4;
            border: 2px solid transparent;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .category-btn:hover {
            background: #e8f0fe;
        }

        .category-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .category-btn .count {
            background: rgba(0,0,0,0.1);
            padding: 1px 6px;
            border-radius: 10px;
            font-size: 0.8em;
            margin-left: 4px;
        }

        .category-btn.active .count {
            background: rgba(255,255,255,0.3);
        }

        /* éš¾åº¦é€‰æ‹© */
        .difficulty-section {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .diff-btn {
            background: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .diff-btn:hover {
            transform: translateY(-2px);
        }

        .diff-btn.active {
            background: #ffd43b;
            color: #333;
        }

        /* æ§åˆ¶æŒ‰é’® */
        .controls {
            text-align: center;
            margin-bottom: 15px;
        }

        .btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .btn.green { background: #51cf66; }
        .btn.blue { background: #339af0; }

        /* æ¸¸æˆæ¿ */
        .game-board {
            display: grid;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
        }

        .game-board.size-4 { grid-template-columns: repeat(4, 1fr); max-width: 520px; margin: 0 auto 15px; }
        .game-board.size-5 { grid-template-columns: repeat(5, 1fr); max-width: 650px; margin: 0 auto 15px; }
        .game-board.size-6 { grid-template-columns: repeat(6, 1fr); max-width: 780px; margin: 0 auto 15px; }

        .card {
            aspect-ratio: 1;
            perspective: 1000px;
            cursor: pointer;
            min-width: 85px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.5s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner,
        .card.matched .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 8px;
            word-break: break-word;
        }

        .card-front {
            background: linear-gradient(145deg, #ffd43b, #fab005);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .card-front::after {
            content: "?";
            font-size: 2.2em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .card-back {
            background: white;
            transform: rotateY(180deg);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            color: #333;
            font-weight: bold;
            font-size: 1.4em;
            line-height: 1.2;
        }

        .card.english .card-back {
            background: linear-gradient(145deg, #74c0fc, #339af0);
            color: white;
        }

        .card.chinese .card-back {
            background: linear-gradient(145deg, #ffa94d, #ff6b6b);
            color: white;
            font-size: 1.6em;
        }

        .card.matched .card-back {
            background: linear-gradient(145deg, #51cf66, #40c057) !important;
            color: white !important;
        }

        .card.matched { pointer-events: none; }

        /* æ¶ˆæ¯ */
        .message {
            text-align: center;
            color: white;
            font-size: 1.2em;
            padding: 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            margin-top: 15px;
            display: none;
        }

        .message.show {
            display: block;
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* å•è¯è¡¨ */
        .word-list {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            max-height: 300px;
            overflow-y: auto;
        }

        .word-list h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .word-list-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 8px;
        }

        .word-item {
            background: #f8f9fa;
            padding: 6px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.85em;
        }

        .word-item span {
            display: block;
            color: #868e96;
            font-size: 0.8em;
        }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            height: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress-fill {
            background: #51cf66;
            height: 100%;
            width: 0%;
            transition: width 0.3s;
        }

        @media (max-width: 600px) {
            .card { min-width: 65px; }
            .card-front::after { font-size: 1.6em; }
            .card-back { font-size: 1.1em; }
            .card.chinese .card-back { font-size: 1.3em; }
            h1 { font-size: 1.4em; }
            .categories { gap: 5px; }
            .category-btn { padding: 5px 10px; font-size: 0.75em; }
            .game-board.size-4 { max-width: 320px; }
            .game-board.size-6 { max-width: 420px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ´ å–®è©ç¿»ç‰Œé…å°éŠæˆ²</h1>
        <p class="subtitle">YLE Starters å®Œæ•´è©åº« Â· 330+ å–®è©</p>

        <div class="stats">
            <div class="stat-box">â±ï¸ æ™‚é–“: <span id="timer">0</span>ç§’</div>
            <div class="stat-box">ğŸ¯ ç¿»ç‰Œ: <span id="moves">0</span>æ¬¡</div>
            <div class="stat-box">âœ… é…å°: <span id="matches">0</span>/<span id="totalPairs">0</span></div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="category-section">
            <h3>ğŸ“š é¸æ“‡é¡åˆ¥ï¼š</h3>
            <div class="categories" id="categories"></div>
        </div>

        <div class="difficulty-section">
            <button class="diff-btn active" onclick="setDifficulty(8)">ç°¡å–® 8å°</button>
            <button class="diff-btn" onclick="setDifficulty(12)">ä¸­ç­‰ 12å°</button>
            <button class="diff-btn" onclick="setDifficulty(18)">å›°é›£ 18å°</button>
            <button class="diff-btn" onclick="setDifficulty(24)">æŒ‘æˆ° 24å°</button>
        </div>

        <div class="controls">
            <button class="btn green" onclick="startGame()">ğŸ”„ é–‹å§‹æ–°éŠæˆ²</button>
            <button class="btn blue" onclick="toggleWordList()">ğŸ“– æŸ¥çœ‹å–®è©</button>
            <a href="index.html" class="btn" style="background:#868e96;color:white;text-decoration:none;">ğŸ  è¿”å›é¦–é </a>
        </div>

        <div class="game-board size-4" id="gameBoard"></div>

        <div class="message" id="message"></div>

        <div class="word-list" id="wordListSection" style="display: none;">
            <h3>æœ¬è¼ªå–®è© (<span id="wordCount">0</span>å€‹)</h3>
            <div class="word-list-items" id="wordListItems"></div>
        </div>
    </div>

    <script>
        // å®Œæ•´å•è¯åº“ - æŒ‰ç±»åˆ«åˆ†ç±»ï¼ˆç¹ä½“ä¸­æ–‡ï¼‰
        const wordBank = {
            "å‹•ç‰© Animals": [
                { en: "animal", zh: "å‹•ç‰©" },
                { en: "bear", zh: "ç†Š" },
                { en: "bee", zh: "èœœèœ‚" },
                { en: "bird", zh: "é³¥" },
                { en: "cat", zh: "è²“" },
                { en: "chicken", zh: "é›" },
                { en: "cow", zh: "ç‰›" },
                { en: "crocodile", zh: "é±·é­š" },
                { en: "dog", zh: "ç‹—" },
                { en: "donkey", zh: "é©¢" },
                { en: "duck", zh: "é´¨å­" },
                { en: "elephant", zh: "å¤§è±¡" },
                { en: "fish", zh: "é­š" },
                { en: "frog", zh: "é’è›™" },
                { en: "giraffe", zh: "é•·é ¸é¹¿" },
                { en: "goat", zh: "å±±ç¾Š" },
                { en: "hippo", zh: "æ²³é¦¬" },
                { en: "horse", zh: "é¦¬" },
                { en: "lizard", zh: "èœ¥èœ´" },
                { en: "monkey", zh: "çŒ´å­" },
                { en: "mouse", zh: "è€é¼ " },
                { en: "pet", zh: "å¯µç‰©" },
                { en: "polar bear", zh: "åŒ—æ¥µç†Š" },
                { en: "sheep", zh: "ç¾Š" },
                { en: "snake", zh: "è›‡" },
                { en: "spider", zh: "èœ˜è››" },
                { en: "tiger", zh: "è€è™" },
                { en: "zebra", zh: "æ–‘é¦¬" },
                { en: "alien", zh: "å¤–æ˜Ÿäºº" },
                { en: "monster", zh: "æ€ªç‰©" },
                { en: "jellyfish", zh: "æ°´æ¯" }
            ],
            "é£Ÿç‰© Food": [
                { en: "food", zh: "é£Ÿç‰©" },
                { en: "bread", zh: "éºµåŒ…" },
                { en: "breakfast", zh: "æ—©é¤" },
                { en: "burger", zh: "æ¼¢å ¡" },
                { en: "cake", zh: "è›‹ç³•" },
                { en: "candy", zh: "ç³–æœ" },
                { en: "chocolate", zh: "æœ±å¤åŠ›" },
                { en: "chips", zh: "è–¯æ¢" },
                { en: "dinner", zh: "æ™šé¤" },
                { en: "egg", zh: "é›è›‹" },
                { en: "fries", zh: "ç‚¸è–¯æ¢" },
                { en: "ice cream", zh: "é›ªç³•" },
                { en: "lunch", zh: "åˆé¤" },
                { en: "meat", zh: "è‚‰" },
                { en: "meatballs", zh: "è‚‰ä¸¸" },
                { en: "pie", zh: "æ´¾" },
                { en: "pizza", zh: "æŠ«è–©" },
                { en: "rice", zh: "ç±³é£¯" },
                { en: "sausage", zh: "é¦™è…¸" },
                { en: "sandwich", zh: "ä¸‰æ–‡æ²»" },
                { en: "snack", zh: "é›¶é£Ÿ" },
                { en: "soup", zh: "æ¹¯" }
            ],
            "æ°´æœè”¬èœ Fruits": [
                { en: "fruit", zh: "æ°´æœ" },
                { en: "apple", zh: "è˜‹æœ" },
                { en: "banana", zh: "é¦™è•‰" },
                { en: "bean", zh: "è±†å­" },
                { en: "carrot", zh: "ç´…è˜¿è””" },
                { en: "coconut", zh: "æ¤°å­" },
                { en: "grape", zh: "è‘¡è„" },
                { en: "kiwi", zh: "å¥‡ç•°æœ" },
                { en: "lemon", zh: "æª¸æª¬" },
                { en: "lemonade", zh: "æª¸æª¬æ°´" },
                { en: "lime", zh: "é’æª¸" },
                { en: "mango", zh: "èŠ’æœ" },
                { en: "onion", zh: "æ´‹è”¥" },
                { en: "orange", zh: "æ©™" },
                { en: "pea", zh: "è±Œè±†" },
                { en: "pear", zh: "æ¢¨" },
                { en: "pineapple", zh: "è è˜¿" },
                { en: "potato", zh: "è–¯ä»”" },
                { en: "tomato", zh: "ç•ªèŒ„" },
                { en: "vegetable", zh: "è”¬èœ" }
            ],
            "é£²æ–™ Drinks": [
                { en: "drink", zh: "é£²æ–™" },
                { en: "juice", zh: "æœæ±" },
                { en: "milk", zh: "ç‰›å¥¶" },
                { en: "water", zh: "æ°´" },
                { en: "tea", zh: "èŒ¶" },
                { en: "coffee", zh: "å’–å•¡" }
            ],
            "èº«é«” Body": [
                { en: "body", zh: "èº«é«”" },
                { en: "arm", zh: "æ‰‹è‡‚" },
                { en: "ear", zh: "è€³æœµ" },
                { en: "eye", zh: "çœ¼ç›" },
                { en: "face", zh: "è‡‰" },
                { en: "foot", zh: "è…³" },
                { en: "hair", zh: "é ­é«®" },
                { en: "hand", zh: "æ‰‹" },
                { en: "head", zh: "é ­" },
                { en: "leg", zh: "è…¿" },
                { en: "mouth", zh: "å˜´å·´" },
                { en: "nose", zh: "é¼»å­" },
                { en: "tooth", zh: "ç‰™é½’" }
            ],
            "å®¶åº­ Family": [
                { en: "family", zh: "å®¶åº­" },
                { en: "baby", zh: "å¬°å…’" },
                { en: "boy", zh: "ç”·å­©" },
                { en: "brother", zh: "å…„å¼Ÿ" },
                { en: "child", zh: "å­©å­" },
                { en: "cousin", zh: "è¡¨è¦ª" },
                { en: "dad", zh: "çˆ¸çˆ¸" },
                { en: "daughter", zh: "å¥³å…’" },
                { en: "father", zh: "çˆ¶è¦ª" },
                { en: "friend", zh: "æœ‹å‹" },
                { en: "girl", zh: "å¥³å­©" },
                { en: "grandfather", zh: "ç¥–çˆ¶" },
                { en: "grandma", zh: "å«²å«²" },
                { en: "grandmother", zh: "ç¥–æ¯" },
                { en: "grandpa", zh: "çˆºçˆº" },
                { en: "kid", zh: "å°å­©" },
                { en: "man", zh: "ç”·äºº" },
                { en: "mother", zh: "æ¯è¦ª" },
                { en: "mum", zh: "åª½åª½" },
                { en: "parent", zh: "çˆ¶æ¯" },
                { en: "sister", zh: "å§å¦¹" },
                { en: "son", zh: "å…’å­" },
                { en: "woman", zh: "å¥³äºº" }
            ],
            "é¡è‰² Colors": [
                { en: "colour", zh: "é¡è‰²" },
                { en: "black", zh: "é»‘è‰²" },
                { en: "blue", zh: "è—è‰²" },
                { en: "brown", zh: "æ£•è‰²" },
                { en: "green", zh: "ç¶ è‰²" },
                { en: "grey", zh: "ç°è‰²" },
                { en: "orange", zh: "æ©™è‰²" },
                { en: "pink", zh: "ç²‰è‰²" },
                { en: "purple", zh: "ç´«è‰²" },
                { en: "red", zh: "ç´…è‰²" },
                { en: "white", zh: "ç™½è‰²" },
                { en: "yellow", zh: "é»ƒè‰²" }
            ],
            "æ•¸å­— Numbers": [
                { en: "number", zh: "æ•¸å­—" },
                { en: "one", zh: "ä¸€" },
                { en: "two", zh: "äºŒ" },
                { en: "three", zh: "ä¸‰" },
                { en: "four", zh: "å››" },
                { en: "five", zh: "äº”" },
                { en: "six", zh: "å…­" },
                { en: "seven", zh: "ä¸ƒ" },
                { en: "eight", zh: "å…«" },
                { en: "nine", zh: "ä¹" },
                { en: "ten", zh: "å" },
                { en: "eleven", zh: "åä¸€" },
                { en: "twelve", zh: "åäºŒ" },
                { en: "thirteen", zh: "åä¸‰" },
                { en: "fourteen", zh: "åå››" },
                { en: "fifteen", zh: "åäº”" },
                { en: "sixteen", zh: "åå…­" },
                { en: "seventeen", zh: "åä¸ƒ" },
                { en: "eighteen", zh: "åå…«" },
                { en: "nineteen", zh: "åä¹" },
                { en: "twenty", zh: "äºŒå" }
            ],
            "å­¸æ ¡ School": [
                { en: "school", zh: "å­¸æ ¡" },
                { en: "class", zh: "ç­ç´š" },
                { en: "classmate", zh: "åŒå­¸" },
                { en: "classroom", zh: "èª²å®¤" },
                { en: "desk", zh: "æ›¸æ¡Œ" },
                { en: "eraser", zh: "æ“¦è† " },
                { en: "lesson", zh: "èª²ç¨‹" },
                { en: "pen", zh: "é‹¼ç­†" },
                { en: "pencil", zh: "é‰›ç­†" },
                { en: "ruler", zh: "å°ºå­" },
                { en: "rubber", zh: "æ“¦è† " },
                { en: "teacher", zh: "è€å¸«" },
                { en: "book", zh: "æ›¸" },
                { en: "bookcase", zh: "æ›¸æ¶" },
                { en: "bookshop", zh: "æ›¸åº—" },
                { en: "board", zh: "é»‘æ¿" },
                { en: "crayon", zh: "è Ÿç­†" },
                { en: "letter", zh: "å­—æ¯" },
                { en: "alphabet", zh: "å­—æ¯è¡¨" },
                { en: "example", zh: "ä¾‹å­" },
                { en: "page", zh: "é " },
                { en: "paper", zh: "ç´™" },
                { en: "word", zh: "å–®è©" },
                { en: "answer", zh: "ç­”æ¡ˆ" },
                { en: "question", zh: "å•é¡Œ" }
            ],
            "å®¶å±… Home": [
                { en: "house", zh: "æˆ¿å­" },
                { en: "home", zh: "å®¶" },
                { en: "apartment", zh: "å…¬å¯“" },
                { en: "flat", zh: "å…¬å¯“" },
                { en: "room", zh: "æˆ¿é–“" },
                { en: "bathroom", zh: "æµ´å®¤" },
                { en: "bedroom", zh: "è‡¥å®¤" },
                { en: "dining room", zh: "é£¯å»³" },
                { en: "kitchen", zh: "å»šæˆ¿" },
                { en: "living room", zh: "å®¢å»³" },
                { en: "hall", zh: "å¤§å»³" },
                { en: "armchair", zh: "æ‰¶æ‰‹æ¤…" },
                { en: "bed", zh: "åºŠ" },
                { en: "chair", zh: "æ¤…å­" },
                { en: "clock", zh: "æ™‚é˜" },
                { en: "cupboard", zh: "æ«¥æ«ƒ" },
                { en: "door", zh: "é–€" },
                { en: "floor", zh: "åœ°æ¿" },
                { en: "lamp", zh: "æª¯ç‡ˆ" },
                { en: "mirror", zh: "é¡å­" },
                { en: "poster", zh: "æµ·å ±" },
                { en: "radio", zh: "æ”¶éŸ³æ©Ÿ" },
                { en: "rug", zh: "åœ°æ¯¯" },
                { en: "sofa", zh: "æ¢³åŒ–" },
                { en: "table", zh: "æ¡Œå­" },
                { en: "television", zh: "é›»è¦–" },
                { en: "window", zh: "çª—æˆ¶" }
            ],
            "è¡£æœ Clothes": [
                { en: "clothes", zh: "è¡£æœ" },
                { en: "bag", zh: "è¢‹" },
                { en: "baseball cap", zh: "æ£’çƒå¸½" },
                { en: "boots", zh: "é´" },
                { en: "coat", zh: "å¤–å¥—" },
                { en: "dress", zh: "é€£è¡£è£™" },
                { en: "glasses", zh: "çœ¼é¡" },
                { en: "handbag", zh: "æ‰‹è¢‹" },
                { en: "hat", zh: "å¸½" },
                { en: "jacket", zh: "å¤–å¥—" },
                { en: "jeans", zh: "ç‰›ä»”è¤²" },
                { en: "shirt", zh: "æ¤è¡«" },
                { en: "shoe", zh: "é‹" },
                { en: "skirt", zh: "è£™" },
                { en: "T-shirt", zh: "Tæ¤" },
                { en: "trousers", zh: "è¤²" },
                { en: "vest", zh: "èƒŒå¿ƒ" }
            ],
            "é‹å‹• Sports": [
                { en: "sport", zh: "é‹å‹•" },
                { en: "badminton", zh: "ç¾½æ¯›çƒ" },
                { en: "ball", zh: "çƒ" },
                { en: "baseball", zh: "æ£’çƒ" },
                { en: "basketball", zh: "ç±ƒçƒ" },
                { en: "bat", zh: "çƒæ‹" },
                { en: "football", zh: "è¶³çƒ" },
                { en: "game", zh: "éŠæˆ²" },
                { en: "hockey", zh: "æ›²æ£çƒ" },
                { en: "kite", zh: "é¢¨ç®" },
                { en: "playground", zh: "æ“å ´" },
                { en: "skateboard", zh: "æ»‘æ¿" },
                { en: "swim", zh: "æ¸¸æ³³" },
                { en: "tennis", zh: "ç¶²çƒ" },
                { en: "board game", zh: "æ£‹ç›¤éŠæˆ²" }
            ],
            "äº¤é€š Transport": [
                { en: "transport", zh: "äº¤é€š" },
                { en: "bike", zh: "å–®è»Š" },
                { en: "boat", zh: "èˆ¹" },
                { en: "bus", zh: "å·´å£«" },
                { en: "car", zh: "æ±½è»Š" },
                { en: "helicopter", zh: "ç›´å‡æ©Ÿ" },
                { en: "lorry", zh: "è²¨è»Š" },
                { en: "motorbike", zh: "é›»å–®è»Š" },
                { en: "plane", zh: "é£›æ©Ÿ" },
                { en: "train", zh: "ç«è»Š" },
                { en: "truck", zh: "è²¨è»Š" }
            ],
            "è‡ªç„¶ Nature": [
                { en: "nature", zh: "è‡ªç„¶" },
                { en: "beach", zh: "æµ·ç˜" },
                { en: "cloud", zh: "é›²" },
                { en: "flower", zh: "èŠ±" },
                { en: "garden", zh: "èŠ±åœ’" },
                { en: "grass", zh: "è‰" },
                { en: "moon", zh: "æœˆäº®" },
                { en: "park", zh: "å…¬åœ’" },
                { en: "plant", zh: "æ¤ç‰©" },
                { en: "rain", zh: "é›¨" },
                { en: "river", zh: "æ²³" },
                { en: "sand", zh: "æ²™" },
                { en: "sea", zh: "æµ·" },
                { en: "sky", zh: "å¤©ç©º" },
                { en: "snow", zh: "é›ª" },
                { en: "star", zh: "æ˜Ÿæ˜Ÿ" },
                { en: "sun", zh: "å¤ªé™½" },
                { en: "tree", zh: "æ¨¹" },
                { en: "water", zh: "æ°´" },
                { en: "wood", zh: "æœ¨é ­" }
            ],
            "ç©å…· Toys": [
                { en: "toy", zh: "ç©å…·" },
                { en: "balloon", zh: "æ°£çƒ" },
                { en: "camera", zh: "ç›¸æ©Ÿ" },
                { en: "computer", zh: "é›»è…¦" },
                { en: "doll", zh: "å¨ƒå¨ƒ" },
                { en: "keyboard", zh: "éµç›¤" },
                { en: "phone", zh: "é›»è©±" },
                { en: "photo", zh: "ç…§ç‰‡" },
                { en: "picture", zh: "åœ–ç‰‡" },
                { en: "robot", zh: "æ©Ÿæ¢°äºº" },
                { en: "guitar", zh: "çµä»–" },
                { en: "piano", zh: "é‹¼ç´" },
                { en: "music", zh: "éŸ³æ¨‚" }
            ],
            "å‹•ä½œ Actions": [
                { en: "action", zh: "å‹•ä½œ" },
                { en: "add", zh: "åŠ " },
                { en: "ask", zh: "å•" },
                { en: "bounce", zh: "å½ˆè·³" },
                { en: "buy", zh: "è²·" },
                { en: "catch", zh: "æ¥" },
                { en: "choose", zh: "é¸æ“‡" },
                { en: "clap", zh: "æ‹æ‰‹" },
                { en: "clean", zh: "æ¸…æ½”" },
                { en: "close", zh: "é—œé–‰" },
                { en: "come", zh: "ä¾†" },
                { en: "cook", zh: "ç…®é£¯" },
                { en: "count", zh: "æ•¸æ•¸" },
                { en: "cross", zh: "ç©¿é" },
                { en: "cut", zh: "åˆ‡" },
                { en: "dance", zh: "è·³èˆ" },
                { en: "do", zh: "åš" },
                { en: "draw", zh: "ç•«ç•«" },
                { en: "drink", zh: "å–" },
                { en: "drive", zh: "é–‹è»Š" },
                { en: "eat", zh: "åƒ" },
                { en: "enjoy", zh: "äº«å—" },
                { en: "find", zh: "æ‰¾åˆ°" },
                { en: "fly", zh: "é£›" },
                { en: "get", zh: "å¾—åˆ°" },
                { en: "give", zh: "çµ¦" },
                { en: "go", zh: "å»" },
                { en: "go to bed", zh: "ç¡è¦º" },
                { en: "have", zh: "æœ‰" },
                { en: "hit", zh: "æ‰“" },
                { en: "hold", zh: "æ‹¿" },
                { en: "jump", zh: "è·³" },
                { en: "kick", zh: "è¸¢" },
                { en: "know", zh: "çŸ¥é“" },
                { en: "learn", zh: "å­¸ç¿’" },
                { en: "like", zh: "å–œæ­¡" },
                { en: "listen", zh: "è½" },
                { en: "live", zh: "ä½" },
                { en: "look", zh: "çœ‹" },
                { en: "look at", zh: "çœ‹è‘—" },
                { en: "love", zh: "æ„›" },
                { en: "make", zh: "è£½ä½œ" },
                { en: "open", zh: "æ‰“é–‹" },
                { en: "paint", zh: "ç•«ç•«" },
                { en: "pick up", zh: "æ’¿èµ·" },
                { en: "play", zh: "ç©" },
                { en: "point", zh: "æŒ‡" },
                { en: "put", zh: "æ”¾" },
                { en: "read", zh: "è®€" },
                { en: "ride", zh: "é¨" },
                { en: "run", zh: "è·‘" },
                { en: "say", zh: "èªª" },
                { en: "see", zh: "çœ‹" },
                { en: "sing", zh: "å”±" },
                { en: "sit", zh: "å" },
                { en: "sleep", zh: "ç¡è¦º" },
                { en: "stand", zh: "ç«™" },
                { en: "take", zh: "æ‹¿" },
                { en: "throw", zh: "æ‰”" },
                { en: "walk", zh: "è¡Œ" },
                { en: "want", zh: "æƒ³è¦" },
                { en: "watch", zh: "çœ‹" },
                { en: "write", zh: "å¯«" }
            ],
            "å½¢å®¹è© Adjectives": [
                { en: "adjective", zh: "å½¢å®¹è©" },
                { en: "angry", zh: "ç”Ÿæ°£çš„" },
                { en: "beautiful", zh: "ç¾éº—çš„" },
                { en: "big", zh: "å¤§çš„" },
                { en: "clean", zh: "ä¹¾æ·¨çš„" },
                { en: "closed", zh: "é—œé–‰çš„" },
                { en: "cool", zh: "é…·çš„" },
                { en: "correct", zh: "æ­£ç¢ºçš„" },
                { en: "dirty", zh: "æ±¡ç³Ÿçš„" },
                { en: "double", zh: "é›™å€çš„" },
                { en: "favourite", zh: "æœ€å–œæ­¡çš„" },
                { en: "fun", zh: "æœ‰è¶£çš„" },
                { en: "funny", zh: "å¥½ç¬‘çš„" },
                { en: "good", zh: "å¥½çš„" },
                { en: "great", zh: "æ£’çš„" },
                { en: "happy", zh: "é–‹å¿ƒçš„" },
                { en: "long", zh: "é•·çš„" },
                { en: "new", zh: "æ–°çš„" },
                { en: "nice", zh: "å¥½çš„" },
                { en: "old", zh: "èˆŠçš„" },
                { en: "open", zh: "é–‹è‘—çš„" },
                { en: "right", zh: "å°çš„" },
                { en: "sad", zh: "å‚·å¿ƒçš„" },
                { en: "scary", zh: "å¯æ€•çš„" },
                { en: "short", zh: "çŸ­çš„" },
                { en: "small", zh: "å°çš„" },
                { en: "tall", zh: "é«˜çš„" },
                { en: "young", zh: "å¹´è¼•çš„" }
            ],
            "æ™‚é–“ Time": [
                { en: "time", zh: "æ™‚é–“" },
                { en: "afternoon", zh: "ä¸‹åˆ" },
                { en: "birthday", zh: "ç”Ÿæ—¥" },
                { en: "day", zh: "æ—¥" },
                { en: "evening", zh: "æ™šä¸Š" },
                { en: "morning", zh: "æ—©ä¸Š" },
                { en: "night", zh: "å¤œæ™š" },
                { en: "today", zh: "ä»Šå¤©" },
                { en: "tomorrow", zh: "æ˜å¤©" },
                { en: "yesterday", zh: "æ˜¨å¤©" },
                { en: "week", zh: "é€±" },
                { en: "month", zh: "æœˆ" },
                { en: "year", zh: "å¹´" }
            ],
            "åœ°é» Places": [
                { en: "place", zh: "åœ°æ–¹" },
                { en: "shop", zh: "å•†åº—" },
                { en: "hospital", zh: "é†«é™¢" },
                { en: "library", zh: "åœ–æ›¸é¤¨" },
                { en: "market", zh: "å¸‚å ´" },
                { en: "street", zh: "è¡—é“" },
                { en: "zoo", zh: "å‹•ç‰©åœ’" },
                { en: "farm", zh: "è¾²å ´" },
                { en: "town", zh: "åŸé®" },
                { en: "city", zh: "åŸå¸‚" }
            ],
            "å…¶ä»– Others": [
                { en: "a", zh: "ä¸€å€‹" },
                { en: "an", zh: "ä¸€å€‹" },
                { en: "and", zh: "å’Œ" },
                { en: "about", zh: "é—œæ–¼" },
                { en: "again", zh: "å†ä¸€æ¬¡" },
                { en: "all", zh: "æ‰€æœ‰" },
                { en: "here", zh: "é€™è£¡" },
                { en: "there", zh: "é‚£è£¡" },
                { en: "hello", zh: "ä½ å¥½" },
                { en: "goodbye", zh: "å†è¦‹" },
                { en: "bye", zh: "å†è¦‹" },
                { en: "please", zh: "è«‹" },
                { en: "sorry", zh: "å°ä¸èµ·" },
                { en: "thank you", zh: "å¤šè¬" },
                { en: "yes", zh: "æ˜¯" },
                { en: "no", zh: "ä¸" },
                { en: "I", zh: "æˆ‘" },
                { en: "you", zh: "ä½ " },
                { en: "he", zh: "ä»–" },
                { en: "she", zh: "å¥¹" },
                { en: "it", zh: "å®ƒ" },
                { en: "we", zh: "æˆ‘å€‘" },
                { en: "they", zh: "ä»–å€‘" },
                { en: "my", zh: "æˆ‘çš„" },
                { en: "your", zh: "ä½ çš„" },
                { en: "his", zh: "ä»–çš„" },
                { en: "her", zh: "å¥¹çš„" },
                { en: "name", zh: "åå­—" },
                { en: "English", zh: "è‹±èª" },
                { en: "fantastic", zh: "æ¥µå¥½çš„" }
            ]
        };

        // æ¸¸æˆçŠ¶æ€
        let selectedCategories = [];
        let pairCount = 8;
        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let moves = 0;
        let timer = 0;
        let timerInterval = null;
        let gameStarted = false;
        let currentWords = [];
        let selectedCategory = 'all';  // å•é€‰ï¼šå½“å‰é€‰ä¸­çš„ç±»åˆ«

        // åˆå§‹åŒ–åˆ†ç±»æŒ‰é’®
        function initCategories() {
            const container = document.getElementById('categories');
            container.innerHTML = '';
            
            // å…¨éƒ¨æŒ‰é’®
            const allBtn = document.createElement('button');
            allBtn.className = 'category-btn active';
            allBtn.dataset.category = 'all';
            allBtn.innerHTML = 'å…¨éƒ¨ <span class="count">' + getTotalWords() + '</span>';
            allBtn.onclick = () => selectCategory('all');
            container.appendChild(allBtn);
            
            // å„ç±»åˆ«æŒ‰é’®
            Object.keys(wordBank).forEach(cat => {
                const btn = document.createElement('button');
                btn.className = 'category-btn';
                btn.dataset.category = cat;
                btn.innerHTML = cat.split(' ')[0] + ' <span class="count">' + wordBank[cat].length + '</span>';
                btn.onclick = () => selectCategory(cat);
                container.appendChild(btn);
            });
        }

        function getTotalWords() {
            return Object.values(wordBank).reduce((sum, arr) => sum + arr.length, 0);
        }

        function selectCategory(cat) {
            selectedCategory = cat;
            // æ›´æ–°æŒ‰é’®çŠ¶æ€ï¼ˆå•é€‰ï¼‰
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === cat) {
                    btn.classList.add('active');
                }
            });
            // è‡ªåŠ¨å¼€å§‹æ–°æ¸¸æˆ
            startGame();
        }

        function getSelectedWords() {
            if (selectedCategory === 'all') {
                let words = [];
                Object.values(wordBank).forEach(arr => words = words.concat(arr));
                return words;
            }
            return [...wordBank[selectedCategory]];
        }

        function setDifficulty(count) {
            pairCount = count;
            document.querySelectorAll('.diff-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const board = document.getElementById('gameBoard');
            if (count <= 8) board.className = 'game-board size-4';
            else if (count <= 12) board.className = 'game-board size-4';
            else if (count <= 18) board.className = 'game-board size-6';
            else board.className = 'game-board size-6';
            
            startGame();
        }

        function shuffle(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startGame() {
            clearInterval(timerInterval);
            timer = 0;
            moves = 0;
            matchedPairs = 0;
            flippedCards = [];
            gameStarted = true;
            
            document.getElementById('timer').textContent = '0';
            document.getElementById('moves').textContent = '0';
            document.getElementById('matches').textContent = '0';
            document.getElementById('totalPairs').textContent = pairCount;
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('message').classList.remove('show');
            document.getElementById('wordListSection').style.display = 'none';
            
            const allWords = shuffle(getSelectedWords());
            const uniqueWords = [];
            const seen = new Set();
            for (const w of allWords) {
                if (!seen.has(w.en)) {
                    seen.add(w.en);
                    uniqueWords.push(w);
                }
                if (uniqueWords.length >= pairCount) break;
            }
            currentWords = uniqueWords;
            
            cards = [];
            currentWords.forEach((word, index) => {
                cards.push({ id: index, type: 'en', word: word.en, pairId: index });
                cards.push({ id: index + pairCount, type: 'zh', word: word.zh, pairId: index });
            });
            cards = shuffle(cards);
            
            renderBoard();
            
            timerInterval = setInterval(() => {
                timer++;
                document.getElementById('timer').textContent = timer;
            }, 1000);
        }

        function renderBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';
            
            cards.forEach((card, index) => {
                const cardEl = document.createElement('div');
                cardEl.className = 'card';
                cardEl.dataset.index = index;
                cardEl.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front"></div>
                        <div class="card-back ${card.type === 'en' ? 'english' : 'chinese'}">${card.word}</div>
                    </div>
                `;
                cardEl.addEventListener('click', () => flipCard(index));
                board.appendChild(cardEl);
            });
        }

        function flipCard(index) {
            if (!gameStarted) return;
            if (flippedCards.length >= 2) return;
            if (flippedCards.includes(index)) return;
            
            const cardEl = document.querySelectorAll('.card')[index];
            if (cardEl.classList.contains('flipped') || cardEl.classList.contains('matched')) return;
            
            cardEl.classList.add('flipped');
            flippedCards.push(index);
            
            if (flippedCards.length === 2) {
                moves++;
                document.getElementById('moves').textContent = moves;
                checkMatch();
            }
        }

        function checkMatch() {
            const [first, second] = flippedCards;
            const card1 = cards[first];
            const card2 = cards[second];
            
            if (card1.pairId === card2.pairId && card1.type !== card2.type) {
                matchedPairs++;
                document.getElementById('matches').textContent = matchedPairs;
                document.getElementById('progressFill').style.width = (matchedPairs / pairCount * 100) + '%';
                
                setTimeout(() => {
                    document.querySelectorAll('.card')[first].classList.add('matched');
                    document.querySelectorAll('.card')[second].classList.add('matched');
                    flippedCards = [];
                    
                    if (matchedPairs === pairCount) {
                        gameWon();
                    }
                }, 500);
            } else {
                setTimeout(() => {
                    document.querySelectorAll('.card')[first].classList.remove('flipped');
                    document.querySelectorAll('.card')[second].classList.remove('flipped');
                    flippedCards = [];
                }, 1000);
            }
        }

        function gameWon() {
            clearInterval(timerInterval);
            gameStarted = false;
            
            const message = document.getElementById('message');
            let stars = '';
            if (moves <= pairCount * 1.3) stars = 'â­â­â­ å®Œç¾ï¼';
            else if (moves <= pairCount * 1.8) stars = 'â­â­ å¾ˆæ£’ï¼';
            else stars = 'â­ åŠ æ²¹ï¼';
            
            message.innerHTML = `ğŸ‰ å¤ªæ£’äº†ï¼<br>ç”¨æ™‚ ${timer} ç§’ Â· ç¿»ç‰Œ ${moves} æ¬¡<br>${stars}`;
            message.classList.add('show');
        }

        function toggleWordList() {
            const section = document.getElementById('wordListSection');
            if (section.style.display === 'none') {
                const items = document.getElementById('wordListItems');
                document.getElementById('wordCount').textContent = currentWords.length;
                items.innerHTML = currentWords.map(w => `
                    <div class="word-item">
                        ${w.en}
                        <span>${w.zh}</span>
                    </div>
                `).join('');
                section.style.display = 'block';
            } else {
                section.style.display = 'none';
            }
        }

        // åˆå§‹åŒ–
        initCategories();
        startGame();
    </script>
</body>
</html>
